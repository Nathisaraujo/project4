<!-- form -->

<div class="col-sm-5">
                <p class="m-2 text-center">Send us your Silly Story</p>
                <form>
                  <div class="form-group">
                    <label for="formGroupExampleInput">Name</label>
                    <input type="text" class="form-control" id="formGroupExampleInput" placeholder="Name that will appear on your story">
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlInput1">Email address</label>
                    <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
                  </div>
                  <div class="form-group">
                    <label for="formGroupExampleInput">Title</label>
                    <input type="text" class="form-control" id="formGroupExampleInput" placeholder="What is the title of your story?">
                  </div>
                </form>
              </div>
              <div class="col-sm-5">
                <form>
                <div class="form-group textarea-margin">
                  <label for="exampleFormControlTextarea1">Your story goes here:</label>
                  <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" placeholder="Tell your silly story here"></textarea>
                </div>
                <button type="submit" class="btn btn-danger">Send</button>
                </div>
              </div>
              </form>



imagens

<div class="d-none d-md-block col-md-6 masthead-image">
  <img src="{% static 'images/default.jpg' %}" class="scale" alt="placeholder">
</div>


like count
<form action="{% url 'like_post' %}" method='POST'>
  <input type="hidden" name="post_id" value="{{ obj.id }}">
  {% if user not in obj.liked.all %}
    <button class="ui button positive" type="submit">Like</button>
  {% else %}
  <button class="ui button negative" type="submit">Unlike</button>
  {% endif %}
</form>
<strong> {{ obg.liked.all.count }} Likes</strong>



<form> 
  <!-- action="{% url 'like-post' %}" method='POST'> -->
    <!-- <input type="hidden" name="post_id" value="{{ obj.id }}"> -->
    {% if user.is_authenticated %}
      <button class="btn btn-sillytalks" type="submit"><i class="fa-solid fa-thumbs-up"></i> Like</button>
    {% endif %}
    {% csrf_token %}
</form>



  <form id="likeForm" action="{% url 'like-post' %}" method='POST'>
    <input type="hidden" name="post_id" value="{{ obj.id }}">
    {% if user.is_authenticated %}
      <button class="btn btn-sillytalks" type="submit"><i class="fa-solid fa-thumbs-up"></i> Like</button>
    {% endif %}
    {% csrf_token %}
  </form>
  <!-- Display the like count -->
  <strong>{{ post.num_likes }} Likes</strong>




<!-- like thing correct -->
<form id="likeForm" action="{% url 'like-post' %}" method='POST'>
  <input type="hidden" name="post_id" value="{{ post.id }}">
  {% if user.is_authenticated %}
    <button class="btn btn-sillytalks btn-like" type="submit"><i class="fa-solid fa-thumbs-up"></i> Like</button>
  {% endif %}
  {% csrf_token %}
</form>
<div class="likeCounter" data-post-slug="{{ post.slug }}">
  <span>{{ post.like_count }}</span> Likes
</div>


<!-- like thing new problem -->
<form id="likeForm" action="{% url 'like-post' post.slug %}" method='POST'>
      {% csrf_token %}
      <button class="btn btn-sillytalks btn-like" type="submit"><i class="fa-solid fa-thumbs-up"></i> Like</button>
    </form>
    <div class="likeCounter" data-post-slug="{{ post.slug }}">
      <span>{{ post.like_count }}</span> Likes
    </div>


<!-- like button parou de funcionar -->
    {% if user.is_authenticated %}
    {% if like %}
      <p>You already liked this post</p>
    {% else %}
      <input type="hidden" name="post_id" value="{{ post.id }}">
      <button class="btn btn-sillytalks btn-like" type="submit"></i> Like this silliness!</button>
    {% endif %}
  {% else %}
    <p>Log in to like the silliness</p>
  {% csrf_token %}
  {% endif %}





  <!-- Displaying Like button -->
  <!-- <form id="likeForm" action="{% url 'like-post' post.slug %}" method='POST'>
    {% if user.is_authenticated %}
    <input type="hidden" name="post_id" value="{{ post.id }}">
    <button class="btn btn-sillytalks btn-like" type="submit"></i> Like this silliness!</button>
    {% else %}
      <p>Log in to like the silliness</p>
    {% csrf_token %}
    {% endif %}
  </form> -->


  like working

  <!-- Displaying Like button -->
  {% if user.is_authenticated %}
  <form class="d-inline" action="{% url 'post_like' post.slug %}" method="POST">
    {% csrf_token %}
    {% if liked %}
    <button type="submit" name="blogpost_id" value="{{post.slug}}" class="btn-liked"><i
      class="fas fa-solid fa-thumbs-up"></i><span class="sr-only">You have liked the
      Post!</span></button>
    {% else %}
    <button type="submit" name="blogpost_id" value="{{post.slug}}" class="btn-like"><i
      class="far fa-light fa-thumbs-up"></i><span class="sr-only">Click here to Like
      the post</span></button>
    {% endif %}
  </form>
  {% endif %}
  <div class="likeCounter col-2" data-post-slug="{{ post.slug }}">
    <i class="fa-solid fa-thumbs-up fa-2xl"></i> {{ post.like_count }}
  </div>

  <!-- displaying dilly button -->

  {% if user.is_authenticated %}
  <form class="d-inline" action="{% url 'post_silly' post.slug %}" method="POST">
    {% csrf_token %}
    {% if liked %}
    <button type="submit" name="blogpost_id" value="{{post.slug}}" class="btn-liked"><i
      class="fas fa-solid fa-thumbs-down"></i><span class="sr-only">You have liked the
      Post!</span></button>
    {% else %}
    <button type="submit" name="blogpost_id" value="{{post.slug}}" class="btn-like"><i
      class="far fa-light fa-thumbs-down"></i><span class="sr-only">Click here to Like
      the post</span></button>
    {% endif %}
  </form>
  {% endif %}
  <div class="likeCounter col-2" data-post-slug="{{ post.slug }}">
    <i class="fa-solid fa-thumbs-down fa-2xl"></i> {{ post.silly_count }}
  </div>



  seilá que merda é essa:
  # @login_required
# def profile(request):
#     if request.method == 'POST':
#         form = UserProfileForm(request.POST, instance=request.user.userprofile)
#         if form.is_valid():
#             form.save()
#             return redirect('profile')
#     else:
#         form = UserProfileForm(instance=request.user.userprofile)
#     return render(request, 'profile.html', {'form': form})


# models

class UsersPostRequest(models.Model):
    author = models.ForeignKey(User, on_delete=models.CASCADE, default='Your username here')
    title = models.CharField(max_length=100, default='Default Title') 
    content = models.TextField()
    excerpt = models.TextField(max_length=200, blank=True)
    updated_on = models.DateTimeField(auto_now_add=True)
    created_on = models.DateTimeField(auto_now_add=True)
    approved = models.BooleanField(default=False)

    def __str__(self):
        return f"Collaboration request from {self.author}"

    def to_post(self):
        """
        Método para criar um objeto Post a partir deste objeto UsersPostRequest aprovado.
        Retorna None se o UsersPostRequest não estiver aprovado.
        """
        if self.approved:
            # Criar um novo objeto Post com base nas informações de UsersPostRequest
            post = Post(
                title=self.title,
                content=self.content,
                excerpt=self.excerpt,
                created_on=self.created_on,
                status=1,  # Defina o status como publicado
                # Você pode precisar ajustar o autor dependendo da sua lógica de usuário
                author=self.author,  # Suponho que você tenha um campo author em UsersPostRequest
            )
            post.save()  # Salvar o novo post no banco de dados
            return post
        return None